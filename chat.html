<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bate-Papo</title>
    <link rel="stylesheet" href="chat-style.css">
    <!-- Importando os SDKs do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js"></script>
</head>
<body>
    <h1>Bate-Papo Online</h1>
    
    <div class="chat-container">
        <input type="text" id="messageInput" placeholder="Digite sua mensagem">
        <button id="sendMessageButton">Enviar</button>
        <div id="chatDisplay"></div>
    </div>

    <!-- Script do Firebase e JavaScript -->
    <script type="module">
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBmEwRlWnDpnDrX3dsfosYNxQ3B85ltLOw",
            authDomain: "blog-dos-7.firebaseapp.com",
            projectId: "blog-dos-7",
            storageBucket: "blog-dos-7.appspot.com",
            messagingSenderId: "834961033553",
            appId: "1:834961033553:web:5a01d643305e6fc214eb70",
            measurementId: "G-SHQ7BS7XSE",
            databaseURL: "https://blog-dos-7-default-rtdb.firebaseio.com/"
        };

        // Inicializando o Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.getDatabase(app);
        const chatRef = firebase.ref(database, "chat");

        // Enviando mensagens
        document.getElementById("sendMessageButton").addEventListener("click", function() {
            const message = document.getElementById("messageInput").value;
            if (message.trim() !== "") {
                firebase.push(chatRef, {
                    text: message,
                    timestamp: Date.now()
                });
                document.getElementById("messageInput").value = "";
            }
        });

        // Recebendo mensagens
        firebase.onChildAdded(chatRef, function(snapshot) {
            const message = snapshot.val();
            const messageElement = document.createElement("p");
            messageElement.textContent = message.text;
            document.getElementById("chatDisplay").appendChild(messageElement);
        });
    </script>
</body>
</html>
